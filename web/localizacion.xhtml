<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./plantilla.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
    
    <ui:define name="content" rendered="#{loginControl.usuarioEsGestorMapa}">
        <h:form id="form">
            <p:panel header="#{msg.localizacion}">
            <h:panelGrid columns="2">
                <h:outputText value="#{msg.nombre}:" />
                <p:inputText value="#{localizacionControl.localizacion.nombre}"/>
            </h:panelGrid>

            <p:panel header="#{msg.coordenadas}">
                    <h:outputText value="X:" />
                    <p:inputText value="#{localizacionControl.localizacion.x}"/>
                    <p:spacer width="20px"/>
                    <h:outputText value="Y:" />
                    <p:inputText value="#{localizacionControl.localizacion.y}"/>
            </p:panel>

            <p:panel header="#{msg.conexiones}">
                <p:pickList id="pickLocalizaciones" var="item" converter="localizacionConverter"
                            value="#{localizacionControl.localizacionesPick}" 
                            itemLabel="#{item.nombre} (#{item.x}, #{item.y})"
                            itemValue="#{item}" >
                    <f:facet name="sourceCaption"><h:outputText value="#{msg.disponibles}" /></f:facet>  
                    <f:facet name="targetCaption"><h:outputText value="#{msg.seleccionados}" /></f:facet>
                </p:pickList>
            </p:panel>            
        
            <p:panel header="#{msg.recursosDisponibles}">
                <p:pickList id="pickRecursos" var="item" converter="recursoConverter"
                            value="#{localizacionControl.recursosPick}"
                            itemLabel="#{item.tipoElemento.nombre}" itemValue="#{item}" >
                    <f:facet name="sourceCaption"><h:outputText value="#{msg.disponibles}" /></f:facet>  
                    <f:facet name="targetCaption"><h:outputText value="#{msg.seleccionados}" /></f:facet>  
                </p:pickList>
            </p:panel>
        
            <h:panelGrid columns="2" >            
                <p:commandButton value="#{msg.cancelar}" ajax="false"
                                 immediate="true"
                                 action="#{localizacionControl.cancela()}"/>
                <p:commandButton value="#{msg.guardar}" ajax="false"
                                 action="#{localizacionControl.guardaLocalizacion()}"/>
            </h:panelGrid>
            </p:panel>
        </h:form>
        
    </ui:define>
</ui:composition>

